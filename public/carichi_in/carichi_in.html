<style>
.modal-body {
  overflow-x: auto;
}
</style>


<h2>CRONOLOGIA ORDINI IN ENTRATA
<button type="button" class="btn btn-primary" data-toggle="modal" href="#neworder" ng-click="createOrder()">Aggiungi Ordine</button>
</h2>
<nav>
	<ul class="pagination">
		<li>
			<a href="" aria-label="Previous">
				<span aria-hidden="true">&laquo;</span>
			</a>
		</li>
		<li><a href="">Gen16</a></li>
		<li><a href="">Feb16</a></li>
		<li><a href="">Mar16</a></li>
		<li><a href="">Apr16</a></li>
		<li><a href="">Mag16</a></li>
		<li><a href="">Giu16</a></li>
		<li><a href="">Lug16</a></li>
		<li><a href="">Ago16</a></li>
		<li><a href="">Set16</a></li>
		<li><a href="">Ott16</a></li>
		<li><a href="">Nov16</a></li>
		<li><a href="">Dic16</a></li>
		<li>
			<a href="" aria-label="Next">
				<span aria-hidden="true">&raquo;</span>
			</a>
		</li>
  	</ul>
</nav>

<table class="table table-bordered table-hover">
	<thead>
	    <tr>
			<th>Numero Ordine</th>
			<th>DDT</th>
  			<th>Fornitore</th>
			<th>Data ddt</th>
			<th>Data Arrivo</th>
		</tr>
	</thead>
  	<tbody>
    	<tr ng-repeat="order in orders | orderBy:'dataArrivo':true">
			<td><button type="button" class="btn btn-info btn-block" ng-click="openProductsOrder(order)" href="#orderproducts" data-toggle="modal">{{order.numOrdine}}</button></td>
			<td>{{order.ddt}}</td>
  			<td>{{order.fornitore}}</td>
			<td>{{order.dataDdt | date:'medium'}}</td>
			<td>{{order.dataArrivo | date:'medium'}}</td>
			<td>
				<div class="dropdown">
  					<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span></button>
  					<ul class="dropdown-menu">
    					<li><button type="button" class="btn btn-warning btn-block" ng-click="openOrder(order)" href="#neworder" data-toggle="modal">Modifica</button></li>
    					<li><button type="button" class="btn btn-danger btn-block" ng-click="deleteOrder(order, $index)">Cancella</button></li>
  					</ul>
				</div>
			</td>
		</tr>
	</tbody>
</table>

<!-- Modal order_products.html-->
<div id="orderproducts" class="modal container fade" style="display: none;">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">PRODOTTI ORDINE N. {{order.numOrdine}}</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'carichi_in/order_products.html'"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-success" ng-if="order._id == undefined" ng-click="confirmOrder()" data-dismiss="modal">Conferma</button>
				<button type="button" class="btn btn-warning" ng-if="order._id != undefined" ng-click="updateOrder(order)" data-dismiss="modal">Modifica</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
			</div>
		</div>
</div>

<!-- Modal new_product.html-->
<div id="newproduct" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">INSERIRE PRODOTTO</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'carichi_in/new_product.html'"></div>
			</div>
			<div class="modal-footer">
				<button ng-if="productForm.$valid" type="button" class="btn btn-success" data-dismiss="modal" ng-click="addProduct()" >Conferma</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal new_order.html-->
<div id="neworder" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 ng-if="order._id == null" class="modal-title">CREA ORDINE</h4>
				<h4 ng-if="order._id != null" class="modal-title">MODIFICA ORDINE</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'carichi_in/new_order.html'"></div>
			</div>
			<div class="modal-footer">
				<button ng-if="orderForm.$valid && order._id == undefined" type="button" class="btn btn-success" data-toggle="modal" href="#orderproducts" data-dismiss="modal">Conferma</button>
				<button ng-if="orderForm.$valid && order._id != undefined" type="button" class="btn btn-warning" ng-click="updateOrder(order)" data-dismiss="modal">Modifica</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
			</div>
		</div>
	</div>
</div>

