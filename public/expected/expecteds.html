<h2 ng-if="!creationProgress">CARICHI PREVISTI</h2>

<table>
	<tr>
		<td>
			<uib-pagination total-items="totalItems" ng-model="currentPage" items-per-page="entryLimit" max-size="maxSize" class="pagination" boundary-links="true" force-ellipses="true"></uib-pagination>
		</td>
		<td ng-if="!creationProgress">
			<button ng-if="userRole == 'logistica' || userRole == 'admin'" type="button" class="btn btn-primary" data-toggle="modal" data-target="#newexpectedorder" ng-click="newExpectedOrder()">Inserisci Ordine</button>
		</td>
	</tr>
</table>

<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>
				<input style="width:50px;" type="date" ng-model="dataPrevista">
			</th>
			<th>
				<input ng-model="fornitore">
			</th>
			<th>
				<select ng-model="materiale" ng-options="materiale for materiale in features.materiali">
					<option value="">-- seleziona --</option>
				</select>
			</th>

			<th>
				<select ng-model="tipo" ng-options="tipo for tipo in features.tipi">
					<option value="">-- seleziona --</option>
				</select>
			</th>


			<th>
				<select ng-model="spessore" ng-options="spess for spess in features.spessori" convert-to-float>
					<option value="">-- seleziona --</option>
				</select>
			</th>
		</tr>
		<tr>
			<th>Data Prevista</th>
			<th>Fornitore</th>
			<th>Materiale</th>
			<th>Tipo</th>
			<th>Spess</th>
			<th>Largh</th>
			<th>Qualita</th>
			<th>Finitura</th>
			<th>Colore Ral</th>
			<th>Superficie</th>
			<th>Lungh</th>
			<th>N.Fogli</th>
			<th>Peso</th>
			<th ng-if="userRole == 'logistica' || userRole == 'admin'">Prezzo (&euro;/t)</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="expected in expecteds | filterexp:dataPrevista:fornitore:materiale:tipo:spessore | orderBy:'dataPrevista'|startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit">
			<td>{{expected.dataPrevista| date:'medium'}}</td>
			<td>{{expected.fornitore}}</td>
			<td>{{expected.materiale}}</td>
			<td>{{expected.tipo}}</td>
			<td>{{expected.spessore}}</td>
			<td>{{expected.larghezza}}</td>
			<td>{{expected.qualita}}</td>
			<td>{{expected.finitura}}</td>
			<td>{{expected.coloreRal}}</td>
			<td>{{expected.superficie}}</td>
			<td>{{expected.lunghezza}}</td>
			<td>{{expected.numFogli}}</td>
			<td>{{expected.pesoNetto}}</td>
			<td ng-if="userRole == 'logistica' || userRole == 'admin'">{{expected.prezzo}}</td>
		</tr>
	</tbody>
</table>


<!-- Modal order_products.html-->
<div id="orderexpecteds" class="modal modal-xl fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">NUOVO ORDINE</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'public/expected/order_expecteds.html'"></div>
			</div>
			<div class="modal-footer">
				<div align="left">
					<button ng-if="userRole == 'logistica' || userRole == 'admin'" type="button" class="btn btn-primary" data-toggle="modal" data-target="#newexpected" ng-click="newExpected()">Aggiungi prodotto</button>
				</div>
				<div>
					<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
					<button type="button" class="btn btn-success" ng-click="confirmExpectedOrder()" data-dismiss="modal">Conferma</button>
				</div>
			</div>
		</div>
	</div>
</div>


<!-- Modal new_product.html-->
<div id="newexpected" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">NUOVO PRODOTTO</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'public/expected/new_expected.html'"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
				<button ng-if="expectedForm.$valid" type="button" class="btn btn-success" ng-click="addExpected()" data-dismiss="modal">Conferma</button>
			</div>
		</div>
	</div>
</div>


<!-- Modal new_order.html-->
<div id="newexpectedorder" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">NUOVO ORDINE</h4>
			</div>
			<div class="modal-body">
				<div ng-include src="'public/expected/new_expected_order.html'"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-danger" data-dismiss="modal">Annulla</button>
				<button ng-if="expectedOrderForm.$valid" type="button" class="btn btn-success" ng-click="" data-toggle="modal" data-target="#orderexpecteds" data-dismiss="modal">Conferma</button>
			</div>
		</div>
	</div>
</div>

